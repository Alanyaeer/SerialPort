(function(){"use strict";var t={141:function(t,e,a){var i=a(6369),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},l=[],n={created(){console.log("hello wolrd")}},r=n,o=a(1001),c=(0,o.Z)(r,s,l,!1,null,null,null),u=c.exports,d=a(2631),v=function(){var t=this,e=t._self._c;return e("div",[e("el-container",{staticStyle:{height:"740px",border:"1px solid #eee"}},[e("el-aside",{staticStyle:{"background-color":"#F2F6FC"},attrs:{width:"244px"}},[e("el-select",{attrs:{placeholder:"请选择串口"},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},t._l(t.options,(function(t){return e("el-option",{key:t.value,attrs:{value:t.value,label:t.label}})})),1),e("div",{staticClass:"demonstration"},[e("el-alert",{attrs:{title:"🎉当前串口号: "+t.label+"🎉",type:"info",center:"","show-icon":""}}),[e("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"比特率",name:"first"}},[e("div",{staticClass:"demonstration"},[e("span",[t._v("比特率")])]),e("div",{staticClass:"block"},[e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("el-slider",{staticClass:"custom-slider",attrs:{vertical:"true",height:"200px",step:10,max:"40","show-stops":""},model:{value:t.value2,callback:function(e){t.value2=e},expression:"value2"}})],1),e("div",{staticClass:"demonstration"},[t._v(t._s(t.value4))])])]),e("el-tab-pane",{attrs:{label:"停止位",name:"second"}},[e("div",{staticClass:"demonstration"},[e("span",[t._v("停止位")])]),e("div",{staticClass:"block"},[e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("el-slider",{staticClass:"custom-slider",attrs:{vertical:"true",height:"200px",step:10,max:"20","show-stops":""},model:{value:t.value3,callback:function(e){t.value3=e},expression:"value3"}})],1),t._v(" "+t._s(t.value5)+" ")])]),e("el-tab-pane",{attrs:{label:"位长",name:"third"}},[e("div",{staticClass:"demonstration"},[e("span",[t._v("位长")])]),e("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[e("el-slider",{staticClass:"custom-slider",attrs:{vertical:"true",height:"200px",step:10,max:"30","show-stops":""},model:{value:t.value6,callback:function(e){t.value6=e},expression:"value6"}})],1),t._v(" "+t._s(t.value7)+" ")])],1)]],2),0===t.activities.length?e("div",[e("el-empty",{attrs:{description:"未查询到历史记录"}})],1):e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"block whitebg"},[e("div",{staticClass:"radio demonstration"},[t._v(" 排序： "),e("el-radio-group",{model:{value:t.reverse,callback:function(e){t.reverse=e},expression:"reverse"}},[e("el-radio",{attrs:{label:!0}},[t._v("倒序")]),e("el-radio",{attrs:{label:!1}},[t._v("正序")])],1)],1),e("div",{staticClass:"demonstration"},[e("span",[t._v("事件记录")])]),e("el-timeline",{attrs:{reverse:t.reverse}},t._l(t.activities,(function(a,i){return e("el-timeline-item",{key:i,attrs:{timestamp:a.timestamp}},[t._v(" "+t._s(a.content)+" ")])})),1)],1)],1),e("el-container",[e("el-header",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",background:"#a5c0e8"}},[e("div"),e("div",[e("span",{staticStyle:{"font-size":"24px"}},[t._v("串口通信实验")])]),e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("el-dropdown",[e("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",[t._v("设置")]),e("el-dropdown-item",[t._v("信息")]),e("el-dropdown-item",[t._v("端口号名:"+t._s())])],1)],1),e("span",[t._v("吴嘉豪")])],1)]),e("el-main",[e("div",{staticStyle:{display:"flex"}},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:20,maxRows:20},placeholder:""},model:{value:t.textarea1,callback:function(e){t.textarea1=e},expression:"textarea1"}}),e("div",{staticStyle:{margin:"20px 0"}}),e("el-input",{attrs:{type:"textarea",autosize:{minRows:20,maxRows:20},placeholder:""},model:{value:t.textarea2,callback:function(e){t.textarea2=e},expression:"textarea2"}})],1),e("br"),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:6}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-button",{attrs:{icon:"el-icon-check"},on:{click:t.Sendmsg}})],1)]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-button",{attrs:{icon:"el-icon-delete"},on:{click:function(e){t.textarea3=""}}})],1)]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-button",{attrs:{icon:"el-icon-switch-button"},on:{click:function(e){t.textarea3="",t.textarea1="",t.textarea2="",t.activities=[]}}})],1)]),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"grid-content bg-purple"},[e("el-button",{attrs:{icon:"el-icon-share"},on:{click:t.changhtml}})],1)])],1),e("div",{staticStyle:{display:"flex"}},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:8},placeholder:""},model:{value:t.textarea3,callback:function(e){t.textarea3=e},expression:"textarea3"}})],1)],1)],1)],1)],1)},p=[],h=(a(541),a(4161));const m=h.Z.create({baseURL:"http://localhost:9393/msg/",timeout:1e4});var f=m;const x=t=>f.post("/sendMsg",{text:t}),g=()=>f.post("/getMsg"),b=(t,e,a,i)=>f.post("/updateport",{portname:t,baudrate:e,databits:a,stopbits:i});var y={name:"MsgForDataPage",data(){return{preportname:"",textarea:"",timeoutId:null,textarea1:"",textarea2:"",textarea3:"",loading:!1,value1:"1200",value2:"20",value3:"",value6:"0",activeName:"first",label:"COM2",options:[{value:"COM1",label:"COM1"},{value:"COM2",label:"COM2"},{value:"COM3",label:"COM3"},{value:"COM4",label:"COM4"},{value:"COM5",label:"COM5"}],reverse:!0,activities:[]}},computed:{value4(){return Math.min(12e3,this.value1*2**(this.value2/10))},value5(){return 1+this.value3/10*.5},value7(){return 5+this.value6/10},tyt(){return"串口号为:"+this.label},receivedData(){return this.$store.state.receivedData}},methods:{async Getmsg(){const{data:{data:t}}=await g();null!==t&&"undefined"!==typeof t&&""!==t&&(this.loading=!0,""!==this.textarea1?(this.textarea1+="\nreceive msg : "+t,this.textarea2+="\n"+this.StringToHex(t)):(this.textarea1+="receive msg : "+t,this.textarea2+=this.StringToHex(t)),setTimeout((()=>{this.update("receive msg"),this.loading=!1}),500)),this.intervalId&&clearInterval(this.intervalId),this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.timeoutId=setTimeout((()=>{this.Getmsg()}),10)},pollServer(){this.Getmsg()},async Sendmsg(){if(this.loading=!0,console.log(this.textarea3),""!==this.textarea3){const{data:{data:t}}=await x(this.textarea3);setTimeout((()=>{this.update(t),this.loading=!1}),500),""!==this.textarea1?(this.textarea1+="\n"+t+": "+this.textarea3,this.textarea2+="\n"+this.StringToHex(this.textarea3)):(this.textarea1+=t+": "+this.textarea3,this.textarea2+=this.StringToHex(this.textarea3))}else this.loading=!1,""!==this.textarea1?this.textarea1+="\n:)请输入数据再发送":this.textarea1+=":)请输入数据再发送"},changhtml(){this.updatePort()},async update(t){3===this.activities.length&&this.activities.pop();const e=new Date;this.activities.unshift({content:t,timestamp:e})},StringToHex(t){let e="";for(let a=0;a<t.length;a++)e+=0!==a?"--"+t.charCodeAt(a).toString(16):""+t.charCodeAt(a).toString(16);return e},async updatePort(){this.loading=!0;const{data:{data:t,msg:e}}=await b(this.label,this.value4,this.value7,this.value5);"change success"!==t?(alert(e),this.value2=30,this.value6=30,this.value3=0,console.log(this.preportname),this.label=this.preportname,setTimeout((()=>{this.update(e),this.loading=!1}),500)):(alert(t),this.preportname=this.label,setTimeout((()=>{this.update(t),this.loading=!1}),500))}},created(){this.value2=30,this.value6=30},mounted(){this.preportname=this.label,this.pollServer()},beforeDestroy(){clearInterval(this.intervalId)}},w=y,C=(0,o.Z)(w,v,p,!1,null,"2d3232be",null),_=C.exports;i["default"].use(d.ZP);const S=new d.ZP({routes:[{path:"/",redirect:"/communite"},{path:"/communite",component:_}]});var k=S,O=a(3822);i["default"].use(O.ZP);var M=new O.ZP.Store({state:{receivedData:""},mutations:{setReceivedData(t,e){t.receivedData=e}},actions:{receiveData({commit:t},e){t("setReceivedData",e)}}}),T=a(8499),j=a.n(T),P=a(4193);i["default"].use(j(),{locale:P.Z}),i["default"].config.productionTip=!1,new i["default"]({router:k,store:M,render:t=>t(u)}).$mount("#app")}},e={};function a(i){var s=e[i];if(void 0!==s)return s.exports;var l=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,i,s,l){if(!i){var n=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],l=t[u][2];for(var r=!0,o=0;o<i.length;o++)(!1&l||n>=l)&&Object.keys(a.O).every((function(t){return a.O[t](i[o])}))?i.splice(o--,1):(r=!1,l<n&&(n=l));if(r){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[i,s,l]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var i in e)a.o(e,i)&&!a.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,l,n=i[0],r=i[1],o=i[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(s in r)a.o(r,s)&&(a.m[s]=r[s]);if(o)var u=o(a)}for(e&&e(i);c<n.length;c++)l=n[c],a.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return a.O(u)},i=self["webpackChunkserial_port"]=self["webpackChunkserial_port"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=a.O(void 0,[998],(function(){return a(141)}));i=a.O(i)})();
//# sourceMappingURL=app.bc39e920.js.map